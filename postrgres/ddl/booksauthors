CREATE TABLE IF NOT EXISTS public.booksauthors
(
    bookid bigint NOT NULL,
    authorid bigint NOT NULL,
    CONSTRAINT booksauthors_pkey PRIMARY KEY (bookid, authorid)
);

ALTER TABLE IF EXISTS public.booksauthors
    ADD CONSTRAINT booksauthors_authorid_fkey FOREIGN KEY (authorid)
    REFERENCES public.authors (authorid) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE CASCADE;


ALTER TABLE IF EXISTS public.booksauthors
    ADD CONSTRAINT booksauthors_bookid_fkey FOREIGN KEY (bookid)
    REFERENCES public.books (bookid) MATCH SIMPLE
    ON UPDATE NO ACTION
    ON DELETE CASCADE;
